<!-- mini cart data recommendations -->
{%- if section.settings.show_product_recommendations -%}
  <div class="mini-cart-recommendations" data-product-id="{{ product.id }}" data-limit="4">
    {%- if recommendations.products_count > 0 -%}
    <hr class="my-4">
    <div class="container mx-auto px-4">
      <div class="[ flex flex-wrap overflow-hidden -mx-4 ]">
        <div class="[ w-full px-4 overflow-hidden ]">
          <h4 class="[ mt-4 mb-5 text-base ]">{{ 'products.product.product_upsell' | t }}</h4>
        </div>
      </div>
      <div class="[ flex flex-no-wrap flex-row overflow-y-hidden overflow-x-auto -ml-4 ] scroll-bar">
      {%- for product in recommendations.products -%}
        <div class="[ pl-4 mb-2 lg:mb-5 overflow-hidden flex-shrink-0 w-1/2 ]">
          {% render 'product-grid-item' %}
        </div>
      {%- endfor -%}
      </div>
    </div>
    {%- endif -%}
  </div>
{%- endif -%}

{% schema %}
{
  "name": "Mini Cart Recommendations",
  "settings": [
    {
      "type": "checkbox",
      "id": "show_product_recommendations",
      "label": "Enable product recommendations",
      "default": false
    }
  ]
}
{% endschema %}